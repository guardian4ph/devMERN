{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\1App\\\\client\\\\src\\\\components\\\\map\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport usePlacesAutocomplete, { getGeocode, getLatLng } from \"use-places-autocomplete\";\nimport { Combobox, ComboboxInput, ComboboxPopover, ComboboxList, ComboboxOption } from \"@reach/combobox\";\nimport \"@reach/combobox/styles.css\";\n\nconst Search = ({\n  panTo\n}) => {\n  _s();\n\n  const {\n    ready,\n    value,\n    suggestions: {\n      status,\n      data\n    },\n    setValue,\n    clearSuggestions\n  } = usePlacesAutocomplete({\n    requestOptions: {\n      location: {\n        lat: () => 10.3272994,\n        lng: () => 123.9431079\n      },\n      radius: 200 * 1000\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"block\",\n      width: \"100%\"\n    },\n    children: /*#__PURE__*/_jsxDEV(Combobox, {\n      onSelect: async address => {\n        setValue(address, false);\n        clearSuggestions();\n\n        try {\n          const result = await getGeocode({\n            address\n          });\n          const {\n            lat,\n            lng\n          } = await getLatLng(result[0]);\n          panTo({\n            lat,\n            lng\n          }); // console.log(lat, lng);\n\n          console.log(result);\n        } catch (error) {\n          console.log(error);\n        }\n      },\n      children: [/*#__PURE__*/_jsxDEV(ComboboxInput, {\n        className: \"input\",\n        value: value,\n        onChange: e => {\n          setValue(e.target.value);\n        },\n        disabled: !ready,\n        placeholder: \"Search address\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ComboboxPopover, {\n        children: /*#__PURE__*/_jsxDEV(ComboboxList, {\n          children: status === \"OK\" && data.map(({\n            id,\n            description\n          }) => /*#__PURE__*/_jsxDEV(ComboboxOption, {\n            value: description\n          }, id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Search, \"R3daZp6xxcnKjHSG0aTOAykUFF4=\", false, function () {\n  return [usePlacesAutocomplete];\n});\n\n_c = Search;\nexport default Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["D:/1App/client/src/components/map/Search.js"],"names":["React","usePlacesAutocomplete","getGeocode","getLatLng","Combobox","ComboboxInput","ComboboxPopover","ComboboxList","ComboboxOption","Search","panTo","ready","value","suggestions","status","data","setValue","clearSuggestions","requestOptions","location","lat","lng","radius","display","width","address","result","console","log","error","e","target","map","id","description"],"mappings":";;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,qBAAP,IACEC,UADF,EAEEC,SAFF,QAGO,yBAHP;AAKA,SACEC,QADF,EAEEC,aAFF,EAGEC,eAHF,EAIEC,YAJF,EAKEC,cALF,QAMO,iBANP;AAOA,OAAO,4BAAP;;AAEA,MAAMC,MAAM,GAAG,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAe;AAAA;;AAC5B,QAAM;AACJC,IAAAA,KADI;AAEJC,IAAAA,KAFI;AAGJC,IAAAA,WAAW,EAAE;AAAEC,MAAAA,MAAF;AAAUC,MAAAA;AAAV,KAHT;AAIJC,IAAAA,QAJI;AAKJC,IAAAA;AALI,MAMFhB,qBAAqB,CAAC;AACxBiB,IAAAA,cAAc,EAAE;AACdC,MAAAA,QAAQ,EAAE;AAAEC,QAAAA,GAAG,EAAE,MAAM,UAAb;AAAyBC,QAAAA,GAAG,EAAE,MAAM;AAApC,OADI;AAEdC,MAAAA,MAAM,EAAE,MAAM;AAFA;AADQ,GAAD,CANzB;AAaA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEC,MAAAA,OAAO,EAAE,OAAX;AAAoBC,MAAAA,KAAK,EAAE;AAA3B,KAAZ;AAAA,2BACE,QAAC,QAAD;AACE,MAAA,QAAQ,EAAE,MAAMC,OAAN,IAAiB;AACzBT,QAAAA,QAAQ,CAACS,OAAD,EAAU,KAAV,CAAR;AACAR,QAAAA,gBAAgB;;AAChB,YAAI;AACF,gBAAMS,MAAM,GAAG,MAAMxB,UAAU,CAAC;AAAEuB,YAAAA;AAAF,WAAD,CAA/B;AACA,gBAAM;AAAEL,YAAAA,GAAF;AAAOC,YAAAA;AAAP,cAAe,MAAMlB,SAAS,CAACuB,MAAM,CAAC,CAAD,CAAP,CAApC;AACAhB,UAAAA,KAAK,CAAC;AAAEU,YAAAA,GAAF;AAAOC,YAAAA;AAAP,WAAD,CAAL,CAHE,CAIF;;AACAM,UAAAA,OAAO,CAACC,GAAR,CAAYF,MAAZ;AACD,SAND,CAME,OAAOG,KAAP,EAAc;AACdF,UAAAA,OAAO,CAACC,GAAR,CAAYC,KAAZ;AACD;AACF,OAbH;AAAA,8BAeE,QAAC,aAAD;AACE,QAAA,SAAS,EAAC,OADZ;AAEE,QAAA,KAAK,EAAEjB,KAFT;AAGE,QAAA,QAAQ,EAAEkB,CAAC,IAAI;AACbd,UAAAA,QAAQ,CAACc,CAAC,CAACC,MAAF,CAASnB,KAAV,CAAR;AACD,SALH;AAME,QAAA,QAAQ,EAAE,CAACD,KANb;AAOE,QAAA,WAAW,EAAC;AAPd;AAAA;AAAA;AAAA;AAAA,cAfF,eAwBE,QAAC,eAAD;AAAA,+BACE,QAAC,YAAD;AAAA,oBAEGG,MAAM,KAAK,IAAX,IACCC,IAAI,CAACiB,GAAL,CAAS,CAAC;AAAEC,YAAAA,EAAF;AAAMC,YAAAA;AAAN,WAAD,kBACP,QAAC,cAAD;AAAyB,YAAA,KAAK,EAAEA;AAAhC,aAAqBD,EAArB;AAAA;AAAA;AAAA;AAAA,kBADF;AAHJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cAxBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAsCD,CApDD;;GAAMxB,M;UAOAR,qB;;;KAPAQ,M;AAsDN,eAAeA,MAAf","sourcesContent":["import React from \"react\";\r\nimport usePlacesAutocomplete, {\r\n  getGeocode,\r\n  getLatLng,\r\n} from \"use-places-autocomplete\";\r\n\r\nimport {\r\n  Combobox,\r\n  ComboboxInput,\r\n  ComboboxPopover,\r\n  ComboboxList,\r\n  ComboboxOption,\r\n} from \"@reach/combobox\";\r\nimport \"@reach/combobox/styles.css\";\r\n\r\nconst Search = ({ panTo }) => {\r\n  const {\r\n    ready,\r\n    value,\r\n    suggestions: { status, data },\r\n    setValue,\r\n    clearSuggestions,\r\n  } = usePlacesAutocomplete({\r\n    requestOptions: {\r\n      location: { lat: () => 10.3272994, lng: () => 123.9431079 },\r\n      radius: 200 * 1000,\r\n    },\r\n  });\r\n\r\n  return (\r\n    <div style={{ display: \"block\", width: \"100%\" }}>\r\n      <Combobox\r\n        onSelect={async address => {\r\n          setValue(address, false);\r\n          clearSuggestions();\r\n          try {\r\n            const result = await getGeocode({ address });\r\n            const { lat, lng } = await getLatLng(result[0]);\r\n            panTo({ lat, lng });\r\n            // console.log(lat, lng);\r\n            console.log(result);\r\n          } catch (error) {\r\n            console.log(error);\r\n          }\r\n        }}\r\n      >\r\n        <ComboboxInput\r\n          className='input'\r\n          value={value}\r\n          onChange={e => {\r\n            setValue(e.target.value);\r\n          }}\r\n          disabled={!ready}\r\n          placeholder='Search address'\r\n        />\r\n        <ComboboxPopover>\r\n          <ComboboxList>\r\n            {/* Suggestions  */}\r\n            {status === \"OK\" &&\r\n              data.map(({ id, description }) => (\r\n                <ComboboxOption key={id} value={description} />\r\n              ))}\r\n          </ComboboxList>\r\n        </ComboboxPopover>\r\n      </Combobox>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Search;\r\n"]},"metadata":{},"sourceType":"module"}